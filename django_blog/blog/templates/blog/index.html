{% extends "blog/base.html" %} {% load static %} {% block title %}Home | Django
Blog{% endblock %} {% block content %}
<!-- FIX: Ensure defaultProfileUrl element exists for image fallback, in case base.html is missing it. -->
<input
  type="hidden"
  id="defaultProfileUrl"
  value="{% static 'blog/default_profile.png' %}"
/>

<!-- Hero Section -->
<div
  class="relative overflow-hidden pt-10 sm:pt-16 lg:pt-24 pb-12 sm:pb-16 lg:pb-20"
>
  <div class="max-w-7xl mx-auto">
    <div class="lg:grid lg:grid-cols-12 lg:gap-16">
      <div class="lg:col-span-6 xl:col-span-7">
        <div class="text-center lg:text-left">
          <h1
            class="text-4xl tracking-tight font-extrabold text-gray-900 dark:text-gray-100 sm:text-5xl md:text-6xl mb-4"
          >
            Welcome to the
            <span class="text-indigo-600 dark:text-indigo-400"
              >Django Blog</span
            >
          </h1>
          <p
            class="mt-3 max-w-md mx-auto text-lg text-gray-500 dark:text-gray-400 sm:text-xl md:mt-5 md:max-w-3xl lg:mx-0"
          >
            Dive into the world of Python, Django, web development, and more.
            Join our community of developers and writers.
          </p>
          <div class="mt-8 flex justify-center lg:justify-start space-x-4">
            <a
              href="{% url 'blog:posts' %}"
              class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-lg text-white bg-indigo-600 hover:bg-indigo-700 transition duration-150 transform hover:scale-105"
            >
              Read All Posts
            </a>
            {% if not user.is_authenticated %}
            <a
              href="{% url 'blog:register' %}"
              class="inline-flex items-center justify-center px-6 py-3 border border-indigo-600 dark:border-indigo-400 text-base font-medium rounded-lg text-indigo-600 dark:text-indigo-400 bg-white dark:bg-gray-800 hover:bg-indigo-50 dark:hover:bg-gray-700 transition duration-150 transform hover:scale-105"
            >
              Become a Member
            </a>
            {% endif %}
          </div>
        </div>
      </div>

      <div class="mt-12 lg:mt-0 lg:col-span-6 xl:col-span-5 hidden lg:block">
        <!-- Placeholder for a compelling image or illustration -->
        <div
          class="relative bg-gray-200 dark:bg-gray-700 rounded-2xl shadow-xl overflow-hidden aspect-video"
        >
          <img
            class="w-full h-full object-cover"
            src="https://placehold.co/600x400/1D4ED8/ffffff?text=Coding+and+Ideas"
            alt="Blog illustration placeholder"
          />
          <div class="absolute inset-0 bg-indigo-600 opacity-20"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Latest Posts Section -->
<div class="mt-16 sm:mt-24">
  <h2
    class="text-3xl font-extrabold text-gray-900 dark:text-gray-100 mb-8 border-b-2 border-indigo-500 pb-2"
  >
    Latest Articles
  </h2>

  <div class="grid gap-8 lg:grid-cols-3">
    {% if latest_posts %} {% for post in latest_posts %}
    <div
      class="flex flex-col rounded-xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 transform hover:shadow-2xl transition duration-300"
    >
      <div class="flex-shrink-0">
        <!-- Placeholder for Post Image -->
        <img
          class="h-48 w-full object-cover"
          src="https://placehold.co/400x200/4B5563/ffffff?text=Post+Image"
          alt="Post image placeholder"
        />
      </div>
      <div class="flex-1 p-6 flex flex-col justify-between">
        <div class="flex-1">
          <p class="text-sm font-medium text-indigo-600 dark:text-indigo-400">
            <!-- Assumed category link -->
            <a href="#" class="hover:underline">Category</a>
          </p>
          <a href="{% url 'blog:post_detail' post.pk %}" class="block mt-2">
            <p
              class="text-xl font-semibold text-gray-900 dark:text-gray-100 hover:text-indigo-600 dark:hover:text-indigo-400 transition duration-150"
            >
              {{ post.title }}
            </p>
            <p
              class="mt-3 text-base text-gray-500 dark:text-gray-400 line-clamp-3"
            >
              <!-- Use post.summary or a truncated version of post.content -->
              {{ post.content|truncatewords:25 }}
            </p>
          </a>
        </div>
        <div class="mt-6 flex items-center">
          <div class="flex-shrink-0">
            <span class="sr-only">{{ post.author.username }}</span>
            <img
              class="h-10 w-10 rounded-full object-cover"
              src="{{ post.author.profile.image.url }}"
              alt="Author profile picture"
              onerror="this.onerror=null; this.src=document.getElementById('defaultProfileUrl').value;"
            />
          </div>
          <div class="ml-3">
            <p class="text-sm font-medium text-gray-900 dark:text-gray-100">
              <a href="{% url 'blog:profile' %}" class="hover:underline"
                >{{ post.author.username }}</a
              >
            </p>
            <div
              class="flex space-x-1 text-sm text-gray-500 dark:text-gray-400"
            >
              <time datetime="{{ post.date_posted|date:'Y-m-d' }}">
                {{ post.date_posted|date:"M d, Y" }}
              </time>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %} {% else %}
    <div
      class="lg:col-span-3 text-center p-12 bg-gray-100 dark:bg-gray-700 rounded-xl shadow-inner"
    >
      <p class="text-xl text-gray-600 dark:text-gray-300">
        No posts found yet. Be the first to publish a great article!
      </p>
      {% if user.is_authenticated %}
      <a
        href="{% url 'blog:create_post' %}"
        class="mt-4 inline-block text-indigo-600 hover:text-indigo-700 font-medium"
      >
        Create Post &rarr;
      </a>
      {% endif %}
    </div>
    {% endif %}
  </div>
</div>

<!-- Call to Action (CTA) for more posts -->
<div
  class="mt-16 pt-8 border-t border-gray-200 dark:border-gray-700 text-center"
>
  <a
    href="{% url 'blog:posts' %}"
    class="text-xl font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 transition duration-150"
  >
    View All Posts ({{ total_posts_count|default:99 }}) &rarr;
  </a>
</div>

{% endblock content %}
